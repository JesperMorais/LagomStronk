---
phase: 03-workout-features
plan: 03
type: execute
---

<objective>
Add coach-like intelligence with progressive overload hints and smart suggestions during workouts.

Purpose: Make the app feel like a knowledgeable workout buddy that gives data-driven encouragement.
Output: Weight suggestions in workout UI, missed muscle group alerts, encouraging messages.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-workout-features/03-CONTEXT.md
@.planning/phases/03-workout-features/03-01-SUMMARY.md
@.planning/phases/03-workout-features/03-02-SUMMARY.md

**Intelligence tone from context:**
- "Coach-like guidance that feels like a workout buddy + analyst"
- "Nice! Last time you hit 80kg, try 82.5?"
- Friendly but analytical
- Data-driven suggestions

**Existing data functions:**
- getProgressiveOverloadSuggestion(data, exerciseName)
- getMissedMuscleGroups(data, daysBack)
- getMostRecentExerciseSets(data, exerciseName)
- getExerciseHistory(data, exerciseName)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add progressive overload hints to workout logging</name>
  <files>js/app.js, css/style.css</files>
  <action>
Add coach suggestion pill under exercise name in workout view:

1. Create renderCoachHint(exerciseName) function:
   - Call getProgressiveOverloadSuggestion(appData, exerciseName)
   - If suggestion exists, return HTML:
   ```html
   <div class="coach-hint">
     <span class="coach-hint__icon">ðŸ’ª</span>
     <span class="coach-hint__text">Last: 80kg Ã— 8 â€” Try 82.5kg today!</span>
   </div>
   ```
   - Tone varies by trend:
     - increase: "Nice progress! Try {suggestedWeight}kg"
     - maintain: "Solid! Same weight, focus on form"
     - decrease: "Recovery day â€” lighter weight is fine"

2. CSS for coach hint:
```css
.coach-hint {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: rgba(209, 255, 198, 0.2);
  border-radius: 20px;
  padding: 4px 12px;
  font-size: 12px;
  margin-top: 4px;
  color: var(--mint);
}

.coach-hint__icon {
  font-size: 14px;
}

.coach-hint__text {
  color: var(--text-primary);
}
```

3. Integrate into renderWorkoutExercise():
   - After exercise name header, add coach hint div
   - Only show if there's history (hide for first-time exercises)

Messages should feel encouraging, not pushy. The "buddy" vibe from context.
  </action>
  <verify>grep "coach-hint" js/app.js && grep "coach-hint" css/style.css</verify>
  <done>Progressive overload hints show under exercise names during workout</done>
</task>

<task type="auto">
  <name>Task 2: Add inline previous set hints to weight/rep inputs</name>
  <files>js/app.js</files>
  <action>
Enhance set inputs with "Last: X" hints based on previous workout:

1. In renderWorkoutExercise() or wherever set rows are created:
   - Call getMostRecentExerciseSets(appData, exerciseName, currentDate)
   - For each set, get corresponding previous set value
   - Set placeholder to "Last: {weight}" and "Last: {reps}"

2. Already partially done in Phase 2, but ensure:
   - Placeholders show "Last: 80" not just "80"
   - If no history, placeholder is empty or generic ("Weight", "Reps")

3. Pre-fill logic:
   - Weight input: Pre-fill with suggested weight (from progressive overload)
   - Reps input: Pre-fill with target reps from program template
   - User can override but gets smart defaults

This builds on existing getMostRecentExerciseSets() from data.js.
  </action>
  <verify>Test by adding an exercise that has history - inputs should show "Last: X" placeholders</verify>
  <done>Set inputs show previous workout values as hints/defaults</done>
</task>

<task type="auto">
  <name>Task 3: Add missed muscle group notification</name>
  <files>js/app.js, css/style.css, index.html</files>
  <action>
Add subtle notification on dashboard when muscle groups are undertrained:

1. In updateDashboard() or renderHero():
   - Call getMissedMuscleGroups(appData, 7)
   - If any muscle groups haven't been trained in 7+ days:
   - Show notification below hero section

2. HTML structure:
```html
<div id="muscle-alert" class="muscle-alert" style="display: none;">
  <span class="muscle-alert__icon">ðŸŽ¯</span>
  <span class="muscle-alert__text">You haven't trained legs in 8 days</span>
</div>
```

3. CSS:
```css
.muscle-alert {
  display: flex;
  align-items: center;
  gap: 8px;
  background: rgba(255, 193, 7, 0.1);
  border: 1px solid rgba(255, 193, 7, 0.3);
  border-radius: 8px;
  padding: 10px 14px;
  margin: 0 16px 16px;
  font-size: 13px;
}

.muscle-alert__icon {
  font-size: 16px;
}

.muscle-alert__text {
  color: var(--text-primary);
}
```

4. Logic:
   - Only show for muscle groups not trained in 7+ days
   - Show most overdue first
   - Max 1-2 alerts (don't overwhelm)
   - Dismissible (X button that hides for session)

Tone: Gentle nudge, not guilt trip. "Consider adding..." not "You're failing!"
  </action>
  <verify>grep "muscle-alert" js/app.js && grep "muscle-alert" css/style.css</verify>
  <done>Dashboard shows gentle reminder when muscle groups undertrained</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Coach-like intelligence features throughout the app</what-built>
  <how-to-verify>
    1. Run local server and open app
    2. Start a workout with an exercise you've done before
    3. Verify: Coach hint shows under exercise name ("Try 82.5kg today!")
    4. Verify: Weight/rep inputs show "Last: X" placeholders
    5. Go to Dashboard
    6. If you haven't trained a muscle group recently, verify alert appears
    7. Confirm tone is encouraging, not demanding
    8. Dismiss alert, verify it hides
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Coach hints appear under exercise names during workout
- [ ] Weight/rep inputs show previous values as hints
- [ ] Dashboard shows muscle group reminder when appropriate
- [ ] Tone is friendly and encouraging throughout
- [ ] No errors in console
</verification>

<success_criteria>
- All tasks completed
- App provides coach-like suggestions based on history
- Progressive overload is surfaced naturally in the UI
- Missed muscle groups are gently flagged
- Intelligence feels helpful, not nagging
</success_criteria>

<output>
After completion, create `.planning/phases/03-workout-features/03-03-SUMMARY.md`
</output>
