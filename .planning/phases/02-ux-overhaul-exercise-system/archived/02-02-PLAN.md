---
phase: 02-ux-overhaul-exercise-system
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - js/ui/dashboard/hero.js
  - js/ui/components/fab.js
  - css/dashboard.css
  - index.html
autonomous: true

must_haves:
  truths:
    - "User sees hero section on landing screen"
    - "User sees workout streak with flame icon and 7-day calendar mini-view"
    - "User sees floating FAB with mint glow effect"
    - "FAB uses dumbbell logo for start workout"
  artifacts:
    - path: "js/ui/dashboard/hero.js"
      provides: "Hero section with streak display and suggested workout"
      exports: ["renderHero", "calculateStreak"]
    - path: "js/ui/components/fab.js"
      provides: "Floating action button component"
      exports: ["FAB", "showFAB", "hideFAB"]
    - path: "css/dashboard.css"
      provides: "Dashboard and hero styling"
  key_links:
    - from: "js/ui/dashboard/hero.js"
      to: "js/data.js"
      via: "import for workout data"
      pattern: "import.*data"
    - from: "index.html"
      to: "css/dashboard.css"
      via: "stylesheet link"
      pattern: "dashboard\\.css"
---

<objective>
Create the dashboard foundation with hero section showing streak display and floating action button.

Purpose: Implements UX-01 (landing screen) and UX-02 (streak display). Provides the visual foundation for the modern dashboard that other plans will build upon.

Output: Hero component with streak, FAB component, dashboard styles.
</objective>

<execution_context>
@/home/david/.claude/get-shit-done/workflows/execute-plan.md
@/home/david/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-ux-overhaul-exercise-system/02-CONTEXT.md
@.planning/phases/02-ux-overhaul-exercise-system/02-RESEARCH.md
@js/app.js
@css/style.css
@index.html
@/home/david/Dev/personal/color-palette.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create hero section component</name>
  <files>js/ui/dashboard/hero.js</files>
  <action>
Create `js/ui/dashboard/hero.js` with hero section rendering:

**1. calculateStreak(workouts) function:**
- Same logic as existing calculateStreaks in data.js but exported separately
- Returns { current, longest, weekDays } where weekDays is array of last 7 days with workout status

**2. getSuggestedWorkout(data) function:**
- If active program, suggest next workout from program
- Else, analyze last 3 workouts and suggest muscle groups not trained recently
- Return { name, reason } e.g., { name: "Push Day", reason: "Last push workout: 3 days ago" }

**3. renderHero(container, data) function:**
Renders hero section with:

```html
<div class="dashboard-hero">
  <div class="hero-content">
    <!-- Streak section -->
    <div class="hero-streak">
      <div class="streak-flame">
        <span class="flame-icon">ðŸ”¥</span>
        <span class="streak-number">{current}</span>
      </div>
      <div class="streak-calendar">
        <!-- 7 day mini calendar -->
        {weekDays.map(day => `
          <div class="calendar-day ${day.hasWorkout ? 'active' : ''}">
            <span class="day-letter">{day.letter}</span>
            <span class="day-dot"></span>
          </div>
        `)}
      </div>
    </div>

    <!-- Suggested workout -->
    <div class="hero-suggestion" id="hero-suggestion">
      <h3 class="suggestion-title">Suggested Next</h3>
      <div class="suggestion-workout">{suggestion.name}</div>
      <div class="suggestion-reason">{suggestion.reason}</div>
    </div>
  </div>
</div>
```

**4. Empty state handling:**
If no workouts yet, show encouraging message:
"Start your first workout to build your streak!"

**Color palette adherence:**
- Flame icon: amber (#fbbf24)
- Active calendar day: mint (#D1FFC6)
- Suggestion card: card-background with mint border on hover
  </action>
  <verify>
File exists at js/ui/dashboard/hero.js. Run `node -e "import('./js/ui/dashboard/hero.js').then(m => console.log(typeof m.renderHero, typeof m.calculateStreak))"` - should output "function function".
  </verify>
  <done>
- renderHero function renders hero section HTML
- calculateStreak returns current streak and week calendar data
- getSuggestedWorkout provides workout suggestion based on history
- Empty state shows encouraging message for new users
  </done>
</task>

<task type="auto">
  <name>Task 2: Create FAB component</name>
  <files>js/ui/components/fab.js</files>
  <action>
Create `js/ui/components/fab.js` with floating action button:

**1. FAB class or functions:**

```javascript
export class FAB {
  constructor(options = {}) {
    this.icon = options.icon || 'ðŸ‹ï¸'; // Default dumbbell
    this.label = options.label || 'Start Workout';
    this.onClick = options.onClick || (() => {});
    this.element = null;
  }

  render() {
    const fab = document.createElement('button');
    fab.className = 'fab';
    fab.innerHTML = `
      <span class="fab-icon">${this.icon}</span>
      <span class="fab-label">${this.label}</span>
    `;
    fab.addEventListener('click', this.onClick);
    this.element = fab;
    return fab;
  }

  show() {
    if (this.element) this.element.classList.add('visible');
  }

  hide() {
    if (this.element) this.element.classList.remove('visible');
  }

  mount(container) {
    if (!this.element) this.render();
    container.appendChild(this.element);
    // Animate in after mount
    requestAnimationFrame(() => this.show());
  }

  unmount() {
    this.element?.remove();
  }
}
```

**2. Module-level convenience functions:**
- `showFAB()` - Show the global FAB
- `hideFAB()` - Hide the global FAB
- `initFAB(onClick)` - Initialize FAB with click handler

**Styling notes for CSS (Task 3):**
- Position: fixed, bottom-right, above nav bar
- Mint gradient background with glow effect (shadow-mint)
- Dark text (#0f1419)
- Scale animation on tap
- Pill shape with icon + text
  </action>
  <verify>
File exists at js/ui/components/fab.js. Run `node -e "import('./js/ui/components/fab.js').then(m => console.log(typeof m.FAB))"` - should output "function".
  </verify>
  <done>
- FAB class with render, show, hide, mount, unmount methods
- Default dumbbell icon and "Start Workout" label
- Click handler configurable
- Convenience functions exported
  </done>
</task>

<task type="auto">
  <name>Task 3: Create dashboard CSS and integrate</name>
  <files>css/dashboard.css, index.html</files>
  <action>
**1. Create css/dashboard.css:**

```css
/* Dashboard Hero Section */
.dashboard-hero {
  background: linear-gradient(135deg, rgba(35, 44, 51, 0.8), rgba(26, 31, 53, 0.6));
  border: 1px solid var(--border-color);
  border-radius: var(--radius-lg);
  padding: var(--spacing-lg);
  margin-bottom: var(--spacing-lg);
}

.hero-content {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
}

/* Streak Display */
.hero-streak {
  display: flex;
  align-items: center;
  gap: var(--spacing-lg);
}

.streak-flame {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
}

.flame-icon {
  font-size: 2rem;
  filter: drop-shadow(0 0 8px rgba(251, 191, 36, 0.5));
}

.streak-number {
  font-size: 2rem;
  font-weight: 700;
  color: var(--amber);
}

.streak-calendar {
  display: flex;
  gap: var(--spacing-xs);
}

.calendar-day {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  padding: var(--spacing-xs);
}

.day-letter {
  font-size: 0.625rem;
  color: var(--text-tertiary);
  text-transform: uppercase;
}

.day-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--border-color);
}

.calendar-day.active .day-dot {
  background: var(--mint);
  box-shadow: 0 0 6px rgba(209, 255, 198, 0.5);
}

.calendar-day.today .day-letter {
  color: var(--mint);
  font-weight: 600;
}

/* Suggested Workout */
.hero-suggestion {
  background: rgba(35, 44, 51, 0.6);
  border: 1px solid var(--border-color);
  border-radius: var(--radius);
  padding: var(--spacing-md);
  transition: border-color 0.2s;
}

.hero-suggestion:hover {
  border-color: var(--border-mint);
}

.suggestion-title {
  font-size: 0.75rem;
  color: var(--text-tertiary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: var(--spacing-xs);
}

.suggestion-workout {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--mint);
  margin-bottom: var(--spacing-xs);
}

.suggestion-reason {
  font-size: 0.875rem;
  color: var(--text-secondary);
}

/* FAB - Floating Action Button */
.fab {
  position: fixed;
  bottom: calc(var(--nav-height) + var(--spacing-md));
  right: var(--spacing-md);
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-md) var(--spacing-lg);
  background: linear-gradient(135deg, var(--mint), var(--mint-dark));
  border: none;
  border-radius: 50px;
  color: #0f1419;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  box-shadow: var(--glow);
  transform: translateY(100px);
  opacity: 0;
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1),
              opacity 0.3s,
              box-shadow 0.2s;
  z-index: 90;
}

.fab.visible {
  transform: translateY(0);
  opacity: 1;
}

.fab:hover {
  box-shadow: 0 4px 30px rgba(209, 255, 198, 0.5);
}

.fab:active {
  transform: scale(0.95);
}

.fab-icon {
  font-size: 1.25rem;
}

.fab-label {
  white-space: nowrap;
}

/* Empty state for hero */
.hero-empty {
  text-align: center;
  padding: var(--spacing-lg);
}

.hero-empty-icon {
  font-size: 3rem;
  margin-bottom: var(--spacing-sm);
}

.hero-empty-text {
  color: var(--text-secondary);
  font-size: 1rem;
}

.hero-empty-cta {
  color: var(--mint);
  font-weight: 500;
  margin-top: var(--spacing-sm);
}
```

**2. Update index.html:**
- Add `<link rel="stylesheet" href="css/dashboard.css">` after style.css
- In #today-view, add container for hero: `<div id="dashboard-hero"></div>` before today-exercises

**3. Ensure max-width constraint:**
FAB should respect the 480px max-width of .app container. Use:
```css
@media (min-width: 481px) {
  .fab {
    right: calc(50% - 240px + var(--spacing-md));
  }
}
```
  </action>
  <verify>
- File exists at css/dashboard.css
- index.html links to dashboard.css
- Open app, FAB should be visible and styled with mint glow
- Hero section container exists (even if empty initially)
  </verify>
  <done>
- dashboard.css with hero and FAB styles
- All colors follow color-palette.md
- FAB has mint gradient, glow, scale animation
- Hero section has streak and suggestion styling
- Responsive max-width constraint on FAB
  </done>
</task>

</tasks>

<verification>
1. CSS loads: Open app, check Network tab shows dashboard.css loaded
2. Hero renders: In browser console, `import('./js/ui/dashboard/hero.js').then(m => m.renderHero(document.querySelector('#dashboard-hero'), {workouts: []}))`
3. FAB displays: Visual check - mint FAB visible bottom-right with glow
4. Streak calculation: `import('./js/ui/dashboard/hero.js').then(m => console.log(m.calculateStreak([])))`
</verification>

<success_criteria>
- Hero section shows streak flame + number
- 7-day calendar shows workout dots
- Suggested workout section displays
- FAB visible with mint glow effect
- FAB animates in on page load
- Empty state shows for new users
- All colors match color-palette.md
</success_criteria>

<output>
After completion, create `.planning/phases/02-ux-overhaul-exercise-system/02-02-SUMMARY.md`
</output>
