# Plan 02-08: Mini-Player and Workout Flow

## Metadata
```yaml
wave: 4
depends_on: [02-06]
files_modified:
  - js/app.js
  - css/style.css
  - index.html
autonomous: true
```

## Goal
Add Spotify-style floating mini-player when workout is active and user navigates away.

## Context
User wants:
- User can navigate anywhere while workout active
- Mini-player shows workout name + timer
- Tap to return to workout
- Cancel requires confirmation (not easily accessible)
- FAB for "Start Workout" when no active workout

## Tasks

<task id="1">
Add mini-player HTML:
- Fixed bottom bar (above nav)
- Workout name + elapsed timer
- Expand button to return to Today
- Close/finish button with confirmation
</task>

<task id="2">
Add mini-player CSS:
- Fixed position, slide-up animation
- Dark background with blur
- z-index: 100 (above content, below modals)
- Compact height (~56px)
</task>

<task id="3">
Add FAB HTML and CSS:
- Fixed position bottom-right
- Mint gradient background with glow
- "Start Workout" or "+" icon
- Only visible when no active workout
</task>

<task id="4">
Add workout state management:
- startWorkout() - sets active workout, starts timer
- finishWorkout() - with confirmation dialog
- Track workout start time for timer
- Show mini-player when navigating away from Today
</task>

<task id="5">
TEST: Start a workout, navigate to History, verify:
- Mini-player appears at bottom
- Timer counts up
- Tapping mini-player returns to Today
- Finish button asks for confirmation
- FAB hidden while workout active
</task>

## Verification
```bash
grep -q "mini-player" css/style.css && echo "✓ Mini-player CSS exists"
grep -q "startWorkout\|finishWorkout" js/app.js && echo "✓ Workout flow exists"
```

## Must Haves
- [ ] Mini-player appears when navigating away
- [ ] Timer shows elapsed time
- [ ] Tap returns to workout
- [ ] Finish requires confirmation
- [ ] FAB shows when no active workout
