# Plan 02-11: Numpad Fixes and Animation Polish

## Metadata
```yaml
wave: 6
depends_on: [02-10]
files_modified:
  - js/app.js
  - css/style.css
autonomous: true
gap_closure: true
```

## Goal
Fix numpad reliability issues and polish all slide animations for numpad and mini-player.

## Context
UAT feedback:
- UAT-002: Numpad doesn't always appear on input tap
- UAT-003: Numpad animations need polish
- UAT-004: Mini-player animations need polish

## Tasks

<task id="1">
Fix numpad reliability (UAT-002):
- Debug why numpad doesn't always appear
- Check event listener attachment timing
- Ensure `showNumpad()` is called on all weight/reps inputs
- Add defensive checks for input element existence
- Test with dynamically added inputs (after adding exercise)
- Consider using event delegation on parent container
</task>

<task id="2">
Polish numpad animations (UAT-003):
- Add CSS transition for `.numpad` show/hide:
  - `transform: translateY(100%)` → `translateY(0)`
  - `opacity: 0` → `opacity: 1`
  - Duration: 0.3s, easing: cubic-bezier(0.4, 0, 0.2, 1)
- Add backdrop fade animation
- Ensure animation completes before interacting
- Add `will-change: transform` for GPU acceleration
</task>

<task id="3">
Polish mini-player animations (UAT-004):
- Add CSS transition for `.mini-player` show/hide:
  - `transform: translateY(100%)` → `translateY(0)`
  - Duration: 0.25s, easing: ease-out
- Add subtle shadow animation on appear
- Ensure mini-player doesn't flicker during transitions
- Match animation timing with numpad for consistency
</task>

<task id="4">
TEST: Animation smoothness:
- Tap input → numpad slides up smoothly
- Tap outside → numpad slides down smoothly
- Minimize workout → mini-player slides up smoothly
- Expand workout → mini-player slides down smoothly
- No janky or stuttery animations
- Animations feel responsive (not sluggish)
</task>

## Verification
```bash
grep -q "will-change\|translateY" css/style.css && echo "✓ Animation optimizations exist"
grep -q "showNumpad" js/app.js && echo "✓ Numpad functions exist"
```

## Must Haves
- [ ] Numpad appears reliably on every input tap
- [ ] Numpad slide animation is smooth (0.3s)
- [ ] Mini-player slide animation is smooth (0.25s)
- [ ] No flicker or stutter during animations
- [ ] Animations use GPU acceleration

## Addresses
- UAT-002: Numpad reliability
- UAT-003: Numpad animation polish
- UAT-004: Mini-player animation polish
